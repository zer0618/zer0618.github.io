<!DOCTYPE html>













<html class="theme-next mist" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.4.2" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.2">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.2" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '6.4.2',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="xfce">
<meta name="keywords" content="linux,桌面,xfce4">
<meta property="og:type" content="article">
<meta property="og:title" content="抛弃gnome转投xfce了">
<meta property="og:url" content="http://zer0618.github.io/2012/04/11/2012-04-11-xfce4/index.html">
<meta property="og:site_name" content="2ER0 SPACETIME">
<meta property="og:description" content="xfce">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-10-07T18:33:08.785Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="抛弃gnome转投xfce了">
<meta name="twitter:description" content="xfce">






  <link rel="canonical" href="http://zer0618.github.io/2012/04/11/2012-04-11-xfce4/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>抛弃gnome转投xfce了 | 2ER0 SPACETIME</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">2ER0 SPACETIME</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-bug"></i> <br />About</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-maphy">
    <a href="/categories/maphy" rel="section">
      <i class="menu-item-icon fa fa-fw fa-bath"></i> <br />MaPhy</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-musik">
    <a href="/categories/musik" rel="section">
      <i class="menu-item-icon fa fa-fw fa-music"></i> <br />Musik</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-saga">
    <a href="/categories/story" rel="section">
      <i class="menu-item-icon fa fa-fw fa-fire"></i> <br />Saga</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-notes">
    <a href="/categories/notes" rel="section">
      <i class="menu-item-icon fa fa-fw fa-terminal"></i> <br />Notes</a>
  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://zer0618.github.io/2012/04/11/2012-04-11-xfce4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="2ER0">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="2ER0 SPACETIME">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">抛弃gnome转投xfce了
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2012-04-11 07:08:27" itemprop="dateCreated datePublished" datetime="2012-04-11T07:08:27+02:00">2012-04-11</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-10-07 20:33:08" itemprop="dateModified" datetime="2018-10-07T20:33:08+02:00">2018-10-07</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/notes/" itemprop="url" rel="index"><span itemprop="name">notes</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          
              <div class="post-description">xfce</div>
          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>我觉得可能是升级那个驱动冲突的问题 或者机子老了升级后带不动了 总之有天开机发现fallback到gnome2了 倒挺亲切的 就是一开始接触linux的那个样子觉得挺怀念 但是发现有些功能不全 于是动了重回xfce的心思</p>
<p>一开始是从这篇入手的：</p>
<p><a href="http://ihacklog.com/linux/archlinux/uninstall-gnome3-and-get-xfce-for-my-archlinux.html" target="_blank" rel="noopener">http://ihacklog.com/linux/archlinux/uninstall-gnome3-and-get-xfce-for-my-archlinux.html</a></p>
<p>其实很简单 就是：</p>
<pre><code>$sudo pacman -Rcn gnome gnome-extra gdm
#先把gnome一股脑卸了

$sudo pacman -S xfce4 xfce4-goodies gamin slim
#前俩是xfce和组件啥的 后面一个是代替fam的 slim是启动器
</code></pre><p>然后改~/.xinitrc</p>
<pre><code>$sudo vim .xinitrc
</code></pre><p>加上</p>
<pre><code>exec ck-launch-session dbus-launch --exit-with-session startxfce4
</code></pre><p>然后喜气洋洋收工reboot 结果咦 只能以root登录？</p>
<p>查了很多 应该是权限的问题 把一些/root的文件拷到/home/user里再给权限 还是不行啊摔 结果拷来拷去加上改权限弄得root也打不开了 卡在slim上反复输入反复进不去</p>
<p>然后退回控制台改吧…为啥黑屏啊摔 不管在slim里输console还是Alt+Ctrl+F1-6 全都是黑屏 一片黑啥都没有啊摔</p>
<p>心情郁卒</p>
<p>插上了系统盘想着重装吧 分区之前想着重装得怎样怎样 好麻烦唉不行啊 各种配置有些我已经忘了 还得重新查重新弄 还是再努力一下吧</p>
<p>想了想 至少先把控制台弄出来 于是在黑屏的情况下 用root登录 输入密码后听到那种登录的响动 小小舒了口气</p>
<p>先编辑/etc/inittab 实在什么都看不到所以本着试一试的态度 先cp备份了一下 然后进去G$拉到最后 全部删掉 单单写了id:3 然后按了几下ESC :wq</p>
<p>然后reboot</p>
<p>然后重启 不行 还是卡在slim 这是咋回事 又重启了一下发现是因为自己手贱吧slim写在DAEMON里了 于是再小心打开/etc/rc.conf 用/slim 然后x ！凭记忆只能这样试了 vim虽然学过点 但是平时又不用 改的时候一身冷汗 想着还是不行怎么办 然后ESC :wq了</p>
<p>reboot….焦急盯着等待后 开了！</p>
<p>看到熟悉的控制台身影泪流满面Lacrimosa</p>
<p>因为完全打乱了 所以把它们都删了 然后xfce卸了重装 看到网上有人反映是xorg的问题 也卸了重装 事实证明 这种低级的暴力手法是没有用滴= =</p>
<p>于是又查看log 改权限</p>
<p>主要记得的一条错误是</p>
<p>timeout in locking authority file //.Xauthority</p>
<p>和 /usr/bin/xauth: file /home/user/.Xauthority does not exist</p>
<p>我看到有人说/home权限的问题 于是chown user:user /home/user了一下</p>
<p>还有找不到/home/user/.cacha/下的一个啥 从/root下拷了过去 然后改了权限</p>
<p>最难搞的一个问题是这个：</p>
<p>xinit: connection to X server lost</p>
<p>查了半天 这里有解答：</p>
<p><a href="https://bbs.archlinux.org/viewtopic.php?id=109180" target="_blank" rel="noopener">https://bbs.archlinux.org/viewtopic.php?id=109180</a></p>
<p>The original problem was with awesome. After udev update it stopped working. For debugging reasons i’ve commented all lines in .xinitrc, so there was nothing to lunch, and xorg had nothing to cling to. I was able to startx as root, because xorg read /etc/X11/xinit/xinitrc instead of .xinitrc.</p>
<p>于是把/etc/X11/xinit/xinitrc复制到～/.xinitrc下 又加了本来加在里面的那一行….</p>
<p>就这么一个一个排除</p>
<p>到最后只剩下一个关于/bin/zsh/.ICEauthority的问题 觉得有点奇怪为什么会和zsh有关 想可能是sh问题 直接把zsh卸了 改成bash 还是不行</p>
<p>于是干脆把这文件夹删了 又出来这个文件和文件夹not exist的问题 就又新建 然后给权限</p>
<p>这么折腾把错误列表上的都排除了 再startxfce4又出现了新问题 说分析一个.desktop的文件失败 查了半天也没解决 仔细一看 卧槽 这不是那个该死的电信无线网卡的东西吗 果断删掉 启动成功！</p>
<p>终于进去了！但是等等 怎么这么奇怪 $HOME是/bin/zsh 肿么回事 而且桌面的整个配置也很奇怪</p>
<p>又查了半天 如果把这个直接删掉的话就会出现之前的错误 想着从/etc/passwd里面把home的指向改一下吧 结果发现里面因为前面给权限啥的 少了一个：给跪了….原来前面那个/bin/zsh问题也是因为这个 呼 终于好了</p>
<p>普通不能关机重启问题我其实不太在乎 因为平时都是halt和reboot的 然后因为这次的教训 干脆不用启动器了 有问题至少控制台能进 就这样了</p>
<p>dbus和自动挂载移动硬盘：</p>
<pre><code>sudo pacman -S tumbler thunar-volman
</code></pre><p>控制音量：</p>
<pre><code>xfconf-query -c xfce4-keyboard-shortcuts -p /commands/custom/XF86AudioRaiseVolume -n -t string -s &quot;amixer set Master 5%+&quot;

xfconf-query -c xfce4-keyboard-shortcuts -p /commands/custom/XF86AudioLowerVolume -n -t string -s &quot;amixer set Master 5%-&quot;

xfconf-query -c xfce4-keyboard-shortcuts -p /commands/custom/XF86AudioMute -n -t string -s &quot;amixer set Master toggle&quot;
</code></pre><p>再有就是中键和滑动不能用了 所以改了下synaptics的配置 横向滑动也可以了 现在看漫画超方便 bravo！ 直接用了wiki里说的Frequently used options:</p>
<p>/etc/X11/xorg.conf.d/10-synaptics.conf</p>
<pre><code>Section &quot;InputClass&quot;
   Identifier &quot;touchpad&quot;
   Driver &quot;synaptics&quot;
   MatchIsTouchpad &quot;on&quot;
          Option &quot;TapButton1&quot; &quot;1&quot;
          Option &quot;TapButton2&quot; &quot;2&quot;
          Option &quot;TapButton3&quot; &quot;3&quot;
          Option &quot;VertEdgeScroll&quot; &quot;on&quot;
          Option &quot;VertTwoFingerScroll&quot; &quot;on&quot;
          Option &quot;HorizEdgeScroll&quot; &quot;on&quot;
          Option &quot;HorizTwoFingerScroll&quot; &quot;on&quot;
          Option &quot;CircularScrolling&quot; &quot;on&quot;
          Option &quot;CircScrollTrigger&quot; &quot;2&quot;
          Option &quot;EmulateTwoFingerMinZ&quot; &quot;40&quot;
          Option &quot;EmulateTwoFingerMinW&quot; &quot;8&quot;
          ...
 EndSection
</code></pre>
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/linux/" rel="tag"># linux</a>
          
            <a href="/tags/桌面/" rel="tag"># 桌面</a>
          
            <a href="/tags/xfce4/" rel="tag"># xfce4</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2012/02/03/2012-02-03-kangyangrou/" rel="next" title="炕羊肉修行之道（敦煌-大柴旦-德令哈-茶卡-西宁）">
                <i class="fa fa-chevron-left"></i> 炕羊肉修行之道（敦煌-大柴旦-德令哈-茶卡-西宁）
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2012/04/13/2012-04-13-usbmount/" rel="prev" title="普通用户USB无法挂载问题">
                普通用户USB无法挂载问题 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.gif"
                alt="2ER0" />
            
              <p class="site-author-name" itemprop="name">2ER0</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives">
                
                    <span class="site-state-item-count">87</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">7</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">112</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://twitter.com/zer0618" target="_blank" title="Twitter"><i class="fa fa-fw fa-twitter"></i>Twitter</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://soundcloud.com/2er0" target="_blank" title="Soundcloud"><i class="fa fa-fw fa-soundcloud"></i>Soundcloud</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://2er0.bandcamp.com" target="_blank" title="Bandcamp"><i class="fa fa-fw fa-bandcamp"></i>Bandcamp</a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">2ER0</span>

  

  
</div>











        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.4.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.4.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.2"></script>



  



  










  





  

  

  

  
  

  
  

  


  
  

  

  

  

  

  

</body>
</html>
